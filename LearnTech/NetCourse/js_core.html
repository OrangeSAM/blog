<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript核心原理精讲 | 刘一笔的博客</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/logo.jpg">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/logo.jpg">
    <link rel="mask-icon" href="/logo.jpg" color="#3eaf7c">
    <meta name="description" content="博客，日常记录，JavaScript，CSS，LeetCode，Node，HTTP">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/logo.jpg">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.166fb109.css" as="style"><link rel="preload" href="/assets/js/app.43ad61d0.js" as="script"><link rel="preload" href="/assets/js/2.1fc9df47.js" as="script"><link rel="preload" href="/assets/js/88.e2ff0d6d.js" as="script"><link rel="preload" href="/assets/js/5.cfe5c241.js" as="script"><link rel="prefetch" href="/assets/js/10.d502310f.js"><link rel="prefetch" href="/assets/js/100.fb239a89.js"><link rel="prefetch" href="/assets/js/101.2151c006.js"><link rel="prefetch" href="/assets/js/102.1d702054.js"><link rel="prefetch" href="/assets/js/103.40f30f75.js"><link rel="prefetch" href="/assets/js/104.0c98162d.js"><link rel="prefetch" href="/assets/js/105.6e0c095d.js"><link rel="prefetch" href="/assets/js/106.a481ff60.js"><link rel="prefetch" href="/assets/js/107.0783e2c8.js"><link rel="prefetch" href="/assets/js/108.ce66c64a.js"><link rel="prefetch" href="/assets/js/109.16240db3.js"><link rel="prefetch" href="/assets/js/11.f34148d5.js"><link rel="prefetch" href="/assets/js/110.e46cbc35.js"><link rel="prefetch" href="/assets/js/111.dfac0e9b.js"><link rel="prefetch" href="/assets/js/112.3973a710.js"><link rel="prefetch" href="/assets/js/113.10cda74f.js"><link rel="prefetch" href="/assets/js/114.9e0290ae.js"><link rel="prefetch" href="/assets/js/115.3a271f51.js"><link rel="prefetch" href="/assets/js/116.571094ba.js"><link rel="prefetch" href="/assets/js/117.01a63c82.js"><link rel="prefetch" href="/assets/js/118.4898e441.js"><link rel="prefetch" href="/assets/js/119.1740072a.js"><link rel="prefetch" href="/assets/js/12.92a55c81.js"><link rel="prefetch" href="/assets/js/120.111c8e5c.js"><link rel="prefetch" href="/assets/js/121.22040bfe.js"><link rel="prefetch" href="/assets/js/122.fcaf893c.js"><link rel="prefetch" href="/assets/js/123.c50ee978.js"><link rel="prefetch" href="/assets/js/124.1a4447f8.js"><link rel="prefetch" href="/assets/js/125.21354032.js"><link rel="prefetch" href="/assets/js/126.94890a16.js"><link rel="prefetch" href="/assets/js/127.7e9de262.js"><link rel="prefetch" href="/assets/js/128.eedd7b15.js"><link rel="prefetch" href="/assets/js/129.03f3a9f7.js"><link rel="prefetch" href="/assets/js/13.02504181.js"><link rel="prefetch" href="/assets/js/130.1fabec0c.js"><link rel="prefetch" href="/assets/js/131.88ee5eb5.js"><link rel="prefetch" href="/assets/js/132.914fe876.js"><link rel="prefetch" href="/assets/js/133.eb8a5c8d.js"><link rel="prefetch" href="/assets/js/134.64ed3d32.js"><link rel="prefetch" href="/assets/js/135.50145a1f.js"><link rel="prefetch" href="/assets/js/136.887fcca3.js"><link rel="prefetch" href="/assets/js/137.3862f1a9.js"><link rel="prefetch" href="/assets/js/138.93b6c4c8.js"><link rel="prefetch" href="/assets/js/139.80a50999.js"><link rel="prefetch" href="/assets/js/14.77a357cf.js"><link rel="prefetch" href="/assets/js/140.d1074f76.js"><link rel="prefetch" href="/assets/js/141.85b18cc2.js"><link rel="prefetch" href="/assets/js/142.cb6b72d6.js"><link rel="prefetch" href="/assets/js/143.a56b1457.js"><link rel="prefetch" href="/assets/js/144.b927ab29.js"><link rel="prefetch" href="/assets/js/145.6c52efcb.js"><link rel="prefetch" href="/assets/js/146.2b0bc759.js"><link rel="prefetch" href="/assets/js/147.04c80ed1.js"><link rel="prefetch" href="/assets/js/148.22c257f9.js"><link rel="prefetch" href="/assets/js/149.4102fe6d.js"><link rel="prefetch" href="/assets/js/15.b20eface.js"><link rel="prefetch" href="/assets/js/150.fbd84ad0.js"><link rel="prefetch" href="/assets/js/151.82d01746.js"><link rel="prefetch" href="/assets/js/152.1f405d78.js"><link rel="prefetch" href="/assets/js/153.991ccfdb.js"><link rel="prefetch" href="/assets/js/154.f5780494.js"><link rel="prefetch" href="/assets/js/155.84e4b57f.js"><link rel="prefetch" href="/assets/js/156.73f3536d.js"><link rel="prefetch" href="/assets/js/157.1343febe.js"><link rel="prefetch" href="/assets/js/158.3fa9ae95.js"><link rel="prefetch" href="/assets/js/159.d770b1d3.js"><link rel="prefetch" href="/assets/js/16.0c0e964c.js"><link rel="prefetch" href="/assets/js/160.2b5aad24.js"><link rel="prefetch" href="/assets/js/161.c7c96985.js"><link rel="prefetch" href="/assets/js/162.520d79d8.js"><link rel="prefetch" href="/assets/js/163.a1aa08e2.js"><link rel="prefetch" href="/assets/js/164.239b5abf.js"><link rel="prefetch" href="/assets/js/165.a6bbba0f.js"><link rel="prefetch" href="/assets/js/166.91593de5.js"><link rel="prefetch" href="/assets/js/167.172d089f.js"><link rel="prefetch" href="/assets/js/168.3abd1171.js"><link rel="prefetch" href="/assets/js/169.35144785.js"><link rel="prefetch" href="/assets/js/17.2bc62af2.js"><link rel="prefetch" href="/assets/js/170.fa760897.js"><link rel="prefetch" href="/assets/js/171.5c34c75e.js"><link rel="prefetch" href="/assets/js/172.60d07997.js"><link rel="prefetch" href="/assets/js/173.c0528a57.js"><link rel="prefetch" href="/assets/js/174.b97a027d.js"><link rel="prefetch" href="/assets/js/175.824a3e00.js"><link rel="prefetch" href="/assets/js/176.1f14606e.js"><link rel="prefetch" href="/assets/js/177.bd7daf05.js"><link rel="prefetch" href="/assets/js/178.8030f320.js"><link rel="prefetch" href="/assets/js/179.8965f445.js"><link rel="prefetch" href="/assets/js/18.79f1fd30.js"><link rel="prefetch" href="/assets/js/180.d1368663.js"><link rel="prefetch" href="/assets/js/181.13f7eeb2.js"><link rel="prefetch" href="/assets/js/182.4c73dca1.js"><link rel="prefetch" href="/assets/js/19.600bc21c.js"><link rel="prefetch" href="/assets/js/20.87510a7c.js"><link rel="prefetch" href="/assets/js/21.88d898de.js"><link rel="prefetch" href="/assets/js/22.63cca13e.js"><link rel="prefetch" href="/assets/js/23.00116180.js"><link rel="prefetch" href="/assets/js/24.d8730eb0.js"><link rel="prefetch" href="/assets/js/25.1259c93e.js"><link rel="prefetch" href="/assets/js/26.2de0cb16.js"><link rel="prefetch" href="/assets/js/27.b6421d5f.js"><link rel="prefetch" href="/assets/js/28.c119fb76.js"><link rel="prefetch" href="/assets/js/29.5b417507.js"><link rel="prefetch" href="/assets/js/3.a1971861.js"><link rel="prefetch" href="/assets/js/30.a5e0bd28.js"><link rel="prefetch" href="/assets/js/31.adc41183.js"><link rel="prefetch" href="/assets/js/32.3b7ccc1a.js"><link rel="prefetch" href="/assets/js/33.0750e776.js"><link rel="prefetch" href="/assets/js/34.46d6cdbb.js"><link rel="prefetch" href="/assets/js/35.a3fea112.js"><link rel="prefetch" href="/assets/js/36.1cab5fef.js"><link rel="prefetch" href="/assets/js/37.e70352f8.js"><link rel="prefetch" href="/assets/js/38.b3274de7.js"><link rel="prefetch" href="/assets/js/39.bb9c01bb.js"><link rel="prefetch" href="/assets/js/4.0581c077.js"><link rel="prefetch" href="/assets/js/40.7efa7600.js"><link rel="prefetch" href="/assets/js/41.9483e719.js"><link rel="prefetch" href="/assets/js/42.255b55f0.js"><link rel="prefetch" href="/assets/js/43.dd3d4733.js"><link rel="prefetch" href="/assets/js/44.5beb8a7f.js"><link rel="prefetch" href="/assets/js/45.851d8b41.js"><link rel="prefetch" href="/assets/js/46.f76b0306.js"><link rel="prefetch" href="/assets/js/47.d8ea8253.js"><link rel="prefetch" href="/assets/js/48.6b6b897f.js"><link rel="prefetch" href="/assets/js/49.763b7c06.js"><link rel="prefetch" href="/assets/js/50.7389aad8.js"><link rel="prefetch" href="/assets/js/51.beeb7464.js"><link rel="prefetch" href="/assets/js/52.f5e1ffe5.js"><link rel="prefetch" href="/assets/js/53.d82eeee0.js"><link rel="prefetch" href="/assets/js/54.6a43c030.js"><link rel="prefetch" href="/assets/js/55.69a78e4d.js"><link rel="prefetch" href="/assets/js/56.7a4ac5c4.js"><link rel="prefetch" href="/assets/js/57.86b5227f.js"><link rel="prefetch" href="/assets/js/58.4a397615.js"><link rel="prefetch" href="/assets/js/59.d2d11f70.js"><link rel="prefetch" href="/assets/js/6.0f62f2df.js"><link rel="prefetch" href="/assets/js/60.64f37535.js"><link rel="prefetch" href="/assets/js/61.0e38ddba.js"><link rel="prefetch" href="/assets/js/62.86493e41.js"><link rel="prefetch" href="/assets/js/63.ef9f049a.js"><link rel="prefetch" href="/assets/js/64.afb5b261.js"><link rel="prefetch" href="/assets/js/65.aab6b530.js"><link rel="prefetch" href="/assets/js/66.d7247615.js"><link rel="prefetch" href="/assets/js/67.34dfab0c.js"><link rel="prefetch" href="/assets/js/68.3dc0aeb1.js"><link rel="prefetch" href="/assets/js/69.efd2ca55.js"><link rel="prefetch" href="/assets/js/7.132247dd.js"><link rel="prefetch" href="/assets/js/70.95ca3d3c.js"><link rel="prefetch" href="/assets/js/71.2c7a4967.js"><link rel="prefetch" href="/assets/js/72.1a251716.js"><link rel="prefetch" href="/assets/js/73.61bf96fa.js"><link rel="prefetch" href="/assets/js/74.5ab8265a.js"><link rel="prefetch" href="/assets/js/75.39e30ca0.js"><link rel="prefetch" href="/assets/js/76.5e9f4bd6.js"><link rel="prefetch" href="/assets/js/77.fdb79ef7.js"><link rel="prefetch" href="/assets/js/78.dceb341b.js"><link rel="prefetch" href="/assets/js/79.160031a0.js"><link rel="prefetch" href="/assets/js/8.99d6c358.js"><link rel="prefetch" href="/assets/js/80.4f448000.js"><link rel="prefetch" href="/assets/js/81.b5ff1521.js"><link rel="prefetch" href="/assets/js/82.1ae54b0d.js"><link rel="prefetch" href="/assets/js/83.b990d83c.js"><link rel="prefetch" href="/assets/js/84.1dc79672.js"><link rel="prefetch" href="/assets/js/85.013efb36.js"><link rel="prefetch" href="/assets/js/86.efeaabae.js"><link rel="prefetch" href="/assets/js/87.5b68eda4.js"><link rel="prefetch" href="/assets/js/89.9927c740.js"><link rel="prefetch" href="/assets/js/9.bd4c7b85.js"><link rel="prefetch" href="/assets/js/90.26fc1d5e.js"><link rel="prefetch" href="/assets/js/91.ea0ad76d.js"><link rel="prefetch" href="/assets/js/92.e8d90ded.js"><link rel="prefetch" href="/assets/js/93.9defcb19.js"><link rel="prefetch" href="/assets/js/94.cacaa0f8.js"><link rel="prefetch" href="/assets/js/95.45034e7f.js"><link rel="prefetch" href="/assets/js/96.d6c33d64.js"><link rel="prefetch" href="/assets/js/97.c1a23818.js"><link rel="prefetch" href="/assets/js/98.48fa9b8f.js"><link rel="prefetch" href="/assets/js/99.539b176e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.166fb109.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">刘一笔的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/LearnTech/" class="nav-link router-link-active">
  技术学习
</a></div><div class="nav-item"><a href="/Projects/" class="nav-link">
  项目记录
</a></div><div class="nav-item"><a href="/LeetCode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  阅读记录
</a></div><div class="nav-item"><a href="/IdeaPills/" class="nav-link">
  闪念
</a></div><div class="nav-item"><a href="/CodingTool/" class="nav-link">
  编程工具
</a></div><div class="nav-item"><a href="https://github.com/OrangeSAM" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.lxchuan12.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  若川博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://wind-nest.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  森淼
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.mybeifeng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  北风
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/LearnTech/" class="nav-link router-link-active">
  技术学习
</a></div><div class="nav-item"><a href="/Projects/" class="nav-link">
  项目记录
</a></div><div class="nav-item"><a href="/LeetCode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  阅读记录
</a></div><div class="nav-item"><a href="/IdeaPills/" class="nav-link">
  闪念
</a></div><div class="nav-item"><a href="/CodingTool/" class="nav-link">
  编程工具
</a></div><div class="nav-item"><a href="https://github.com/OrangeSAM" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.lxchuan12.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  若川博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://wind-nest.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  森淼
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.mybeifeng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  北风
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开课吧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>网课</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/LearnTech/NetCourse/office_ability.html" class="sidebar-link">14讲提升职场竞争力</a></li><li><a href="/LearnTech/NetCourse/FEer_advance.html" class="sidebar-link">前端高手进阶</a></li><li><a href="/LearnTech/NetCourse/js_core.html" aria-current="page" class="active sidebar-link">JavaScript核心原理精讲</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#开篇词" class="sidebar-link">开篇词</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#基本功测试之数据类型" class="sidebar-link">基本功测试之数据类型</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#基本功测试之深浅拷贝" class="sidebar-link">基本功测试之深浅拷贝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#浅拷贝的方法" class="sidebar-link">浅拷贝的方法</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#浅拷贝实现的逻辑" class="sidebar-link">浅拷贝实现的逻辑</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#手写浅拷贝" class="sidebar-link">手写浅拷贝</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#深拷贝" class="sidebar-link">深拷贝</a></li></ul></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#继承的六种方式" class="sidebar-link">继承的六种方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#原型链继承" class="sidebar-link">原型链继承</a></li></ul></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#继承进阶，如何实现new-apply-bind-call的底层逻辑" class="sidebar-link">继承进阶，如何实现new apply bind call的底层逻辑</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#函数那些事：js闭包难点剖析" class="sidebar-link">函数那些事：JS闭包难点剖析</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#数组原理" class="sidebar-link">数组原理</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#数组排序" class="sidebar-link">数组排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#冒泡排序" class="sidebar-link">冒泡排序</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#快速排序" class="sidebar-link">快速排序</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#选择排序" class="sidebar-link">选择排序</a></li></ul></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#js异步编程" class="sidebar-link">JS异步编程</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#js垃圾回收" class="sidebar-link">JS垃圾回收</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#事件轮询：如何理解浏览器中eventloop" class="sidebar-link">事件轮询：如何理解浏览器中EventLoop</a></li><li class="sidebar-sub-header"><a href="/LearnTech/NetCourse/js_core.html#引擎进阶（上）：探究宏任务-微任务" class="sidebar-link">引擎进阶（上）：探究宏任务 &amp; 微任务</a></li></ul></li><li><a href="/LearnTech/NetCourse/js_deep.html" class="sidebar-link">JavaScript深入浅出笔记</a></li><li><a href="/LearnTech/NetCourse/fe_attack.html" class="sidebar-link">前端进击逻辑</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="开篇词"><a href="#开篇词" class="header-anchor">#</a> 开篇词</h2> <h2 id="基本功测试之数据类型"><a href="#基本功测试之数据类型" class="header-anchor">#</a> 基本功测试之数据类型</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// true, 史诗级迷惑</span>
<span class="token comment">// 解析</span>
<span class="token comment">// 首先可以推断出右边一定是false，</span>
<span class="token comment">// 对于左边，我的看法是直接Boolean([])等于true，但true == false 肯定为false，</span>
<span class="token comment">// 坤哥前端群张哥的解释是，左边得这样算，Boolean([].valueOf().toString())，这样算下来确实左边就是false，满足最终答案true，</span>
<span class="token comment">// 但不解的点在于为什么要这样算</span>
<span class="token comment">// 深圳前端群发胖的菜鸡给的官方链接(https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Equality_comparisons_and_sameness)里</span>
<span class="token comment">// 写到，如果一边是Boolean，另一边是对象，就得ToPrimitive(A) == ToNumber(B)，这就和张哥说的对上了。</span>
<span class="token comment">// 因为ToPrimitive通过尝试调用A.toString()和A.valueOf()方法，将A转换为原始值。</span>
<span class="token comment">// 即，a = []，a.valueOf().toString() =&gt; &quot;&quot;, &quot;&quot; == false =&gt; true</span>


<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token comment">// true</span>
<span class="token comment">// 解析</span>
<span class="token comment">// 对于'=='，如果其中一个操作值是null或者undefined，那么另一个操作符必须为null或者undefined，才会返回true，否则都返回false</span>

<span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
<span class="token comment">// 规定，记着就好了</span>

<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
<span class="token comment">// 解析</span>
<span class="token comment">// 如果第一个字符不能转换为数字，parseInt会返回NaN，但Number('')是0，所以这里计算为NaN是因为没有字符？</span>

<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">10</span> <span class="token comment">// 10</span>
<span class="token comment">// 解析： 对象在作为操作数时，解释器总是优先调用valueOf()， 而其他情况，解释器总是认为我们想要的是字符串，所以会优先调用toString() 因此对象在前面返回结果就是Number;其他情况对象默认用toString</span>
<span class="token number">10</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 10[object Object]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><code>Object.prototype.toString.call()// 判断数据类型</code> <em>强制类型转换的方法</em></p> <p><code>Number(), String(), Boolean, ParseInt, ParseFloat, toString()</code></p> <h2 id="基本功测试之深浅拷贝"><a href="#基本功测试之深浅拷贝" class="header-anchor">#</a> 基本功测试之深浅拷贝</h2> <p>引用与浅拷贝的区别就在于： 对第一层数据是否依旧修改后互相影响。</p> <h3 id="浅拷贝的方法"><a href="#浅拷贝的方法" class="header-anchor">#</a> 浅拷贝的方法</h3> <ul><li>Object.assign()</li> <li>...</li> <li>Array.concat()</li> <li>Array.slice()</li></ul> <h3 id="浅拷贝实现的逻辑"><a href="#浅拷贝实现的逻辑" class="header-anchor">#</a> 浅拷贝实现的逻辑</h3> <ul><li>对基础类型做一个最基本的拷贝</li> <li>对引用类型开辟一个新的存储，并且拷贝一层对象属性</li></ul> <h3 id="手写浅拷贝"><a href="#手写浅拷贝" class="header-anchor">#</a> 手写浅拷贝</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">shallowClone</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> target <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cloneTarget <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> prop <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 这一步是为了排除target原型链上其他属性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          cloneTarget<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> cloneTarget<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> target<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h3> <p>深拷贝实现了内存上的分离</p> <p>各种版本的深拷贝</p> <ul><li><p>乞丐版
JSON.parse(JSON.stringfy())
缺陷:</p> <ol><li><p>拷贝的对象的值中如果有函数、undefined、symbol 这几种类型，经过 JSON.stringify 序列化之后的字符串中这个键值对会消失；</p></li> <li><p>拷贝 Date 引用类型会变成字符串；</p></li> <li><p>无法拷贝不可枚举的属性；</p></li> <li><p>无法拷贝对象的原型链；</p></li> <li><p>拷贝 RegExp 引用类型会变成空对象；</p></li> <li><p>对象中含有 NaN、Infinity 以及 -Infinity，JSON 序列化的结果会变成 null；</p></li> <li><p>无法拷贝对象的循环应用，即对象成环 (obj[key] = obj)。</p></li></ol></li> <li><p>基础版，手写递归实现
只能处理对象形式的，跟乞丐版没差。</p></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">let</span> cloneObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>                 <span class="token comment">//遍历</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span><span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
      cloneObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">//是对象就再次调用该函数递归</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      cloneObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>  <span class="token comment">//基本类型的话直接复制值</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> cloneObj
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>你写的每一行代码都是需要经过深思熟虑并且非常清晰明白的，这样你才能经得住面试官的推敲。</strong></p> <ul><li>改进版</li></ul> <p>上面两种版本中尚待解决的问题：</p> <ol><li>针对能够遍历对象的不可枚举属性以及symbol类型，我们可以使用reflect.ownKeys方法；</li> <li>当参数为Date、RegExp类型，则直接生成一个新的实例返回。</li> <li>利用Object的getOwnPropertyDescriptors方法可以获得对象的所有属性，以及对应的特性，顺便结合Object的create方法创建一个新对象，并继承传入原对象的原型链</li> <li>利用 WeakMap 类型作为 Hash 表，因为 WeakMap 是弱引用类型，可以有效防止内存泄漏（你可以关注一下 Map 和 weakMap 的关键区别，这里要用 weakMap），作为检测循环引用很有帮助，如果存在循环，则引用直接返回 WeakMap 存储的值。</li></ol> <h2 id="继承的六种方式"><a href="#继承的六种方式" class="header-anchor">#</a> 继承的六种方式</h2> <p><code>Object.create()</code>，用于创建一个新对象，且新对象的__proto__等于所提供的现有的对象。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> sam <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'sam'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>sam<span class="token punctuation">)</span>
a<span class="token comment">//打印出a为一个空对象，其上一级原型为对象sam</span>
__proto__<span class="token operator">:</span>
    name<span class="token operator">:</span> <span class="token string">&quot;sam&quot;</span>
    __proto__<span class="token operator">:</span>
<span class="token comment">// 如果想通过先给a赋值，再使用object.create改变其原型，那么不会有用。我的理解是再赋值就有点字面量的感觉了，会覆盖掉之前的赋值。</span>
<span class="token comment">// 如果想在改变a原型的时候，同时给a设置属性，需要用到第二个参数。</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>sam<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">'b'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
b<span class="token comment">//</span>
name<span class="token operator">:</span> <span class="token string">&quot;cc&quot;</span>
    __proto__<span class="token operator">:</span>
        name<span class="token operator">:</span> <span class="token string">&quot;sam&quot;</span>
        __proto__

<span class="token comment">// 创建一个没有原型的对象</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">'cc'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
c<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="原型链继承"><a href="#原型链继承" class="header-anchor">#</a> 原型链继承</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'parent1'</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>play <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'child2'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Child1</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Child1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>不明白的点：</p> <ol><li>对于一个函数来说，prototype和__proto__的差别</li></ol> <h2 id="继承进阶，如何实现new-apply-bind-call的底层逻辑"><a href="#继承进阶，如何实现new-apply-bind-call的底层逻辑" class="header-anchor">#</a> 继承进阶，如何实现new apply bind call的底层逻辑</h2> <p>new 关键词的主要作用就是执行一个构造函数，返回一个实例对象。
new 分为一下几个步骤</p> <ul><li>创建一个新对象</li> <li>将构造函数的作用域赋给新对象(this指向新对象)</li> <li>执行构造函数中的代码(为这个新对象添加属性)</li> <li>返回新对象</li></ul> <p><strong>new 关键词执行之后总是会返回一个对象，要么是实例对象，要么是 return 语句指定的对象。</strong></p> <p><strong>call、apply 和 bind 是挂在 Function 对象上的三个方法，调用这三个方法的必须是一个函数。</strong></p> <hr> <h2 id="函数那些事：js闭包难点剖析"><a href="#函数那些事：js闭包难点剖析" class="header-anchor">#</a> 函数那些事：JS闭包难点剖析</h2> <p>全局作用域，</p> <p>函数作用域，</p> <p>块级作用域，if语句及for语句后面{}这里面所包括的，就是块级作用域</p> <p>闭包：定义在函数内部的，可以访问在函数内部变量的函数。</p> <p>当访问一个变量时，代码解释器会首先在当前的作用域查找，如果没找到，就去父级作用域去查找，直到找到该变量或者不存在父级作用域中，这样的链路就是作用域链。</p> <p><strong>闭包产生的本质就是：当前环境中存在指向父级作用域的引用。</strong></p> <p>可以借用setTimeout的第三个参数传值到第一个参数函数里头</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="数组原理"><a href="#数组原理" class="header-anchor">#</a> 数组原理</h2> <ol><li>伪数组转数组的几个方式</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>

args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>

args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>

args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="数组排序"><a href="#数组排序" class="header-anchor">#</a> 数组排序</h2> <p>时间复杂度由小到大：<code>O(1) =&gt; O(log n) =&gt; O(n) =&gt; O(n log n) =&gt; O(n^2) =&gt; O(2^n) =&gt; O(n!)</code>，尽量不要超过n^2</p> <p><img src="https://s0.lgstatic.com/i/image/M00/94/A8/CgqCHmAZALyAd98RAAE5AoAl_us191.png" alt="排序算法"></p> <h3 id="冒泡排序"><a href="#冒泡排序" class="header-anchor">#</a> 冒泡排序</h3> <p>效率低
冒泡排序中i 计算是第几趟，还是前后坐标中的一个</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 我这里算的就是第几趟，还需要再研究下课程里的代码</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">46</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> <span class="token function-variable function">bubbleSort</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 优化</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
  <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> temp <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> 
        arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bubbleSort</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="快速排序"><a href="#快速排序" class="header-anchor">#</a> 快速排序</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 我觉得比较容易理解的</span>
<span class="token comment">// 要有递归思想，reclusive</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">92</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">83</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">922</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> <span class="token function-variable function">quickSort</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr
  <span class="token keyword">let</span> pivot <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> pivotVal <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>pivot<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">&lt;</span> pivotVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>pivotVal<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 错误代码示范</span>
<span class="token comment">// 问题出在取pivot值的时候，直接取了值，没有splice，这样留下中值就会在后面比较的时候遇到问题</span>
<span class="token comment">// 以如下代码为例，在进行到第三轮的时候，pivot为3131，此时没有任何值大于3131，包括他自身，这样会陷入quickSort(right)的死循环</span>
<span class="token comment">// 如果添加等于大于等于处理，仍然会遇到问题，在进行到第二轮的时候，21为left的中指，而由于等于号，也会进入left的死循环</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">292</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">3131</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> <span class="token function-variable function">quickSort</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr
  <span class="token keyword">let</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pivot<span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">&gt;</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="选择排序"><a href="#选择排序" class="header-anchor">#</a> 选择排序</h3> <p>找出最小的值，和第一项交换
除开第一项，再找出最小的值，和第一项交换</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">83</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">922</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> <span class="token function-variable function">selectSort</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> minIndex <span class="token operator">=</span> i
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        minIndex <span class="token operator">=</span> j
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 结构赋值，快速交换</span>
    <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">selectSort</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="js异步编程"><a href="#js异步编程" class="header-anchor">#</a> JS异步编程</h2> <ul><li>回调函数</li> <li>事件监听</li> <li>promise</li> <li>Generator</li> <li>async/await</li></ul> <h2 id="js垃圾回收"><a href="#js垃圾回收" class="header-anchor">#</a> JS垃圾回收</h2> <p>栈内存中的基本类型，可以通过操作系统直接处理而堆内存中的引用类型，正是由于可以经常变化，大小不固定，因此需要JavaScript的引擎通过垃圾回收机制来处理。</p> <p>chrome的v8引擎将堆内存分为两类，新生代的回收机制和老生代的回收机制。
新生代：</p> <ul><li>from to</li> <li>scavenge算法处理内存碎片</li></ul> <p>老生代：</p> <ul><li>只要是经历过一次scavenge算法回收的，就可以晋升为老生代内存对象</li> <li>老生代内存中的垃圾回收，采用mark-sweep(标记清除)和mark-compact(标记整理)的策略</li></ul> <p>内存泄露：</p> <ul><li><p>含义：
在JavaScript中，已经分配堆内存地址的对象由于长时间未释放或者无法释放，造成了长期占用内存，使内存浪费，最终导致运行的应用响应速度变慢以及最终崩溃的情况。</p></li> <li><p>场景：</p> <ul><li>过多的缓存未释放</li> <li>闭包太多未释放</li> <li>定时器或者回调太多未释放</li> <li>太多无效的DOM未释放</li> <li>全局变量太多未被发现</li></ul></li> <li><p>解决方案：</p> <ul><li>减少不必要的全局变量，使用严格模式避免意外创建全局变量</li> <li>使用完数据后，及时解除引用（闭包中的变量，DOM引用，定时器清除）</li> <li>优化代码逻辑</li></ul></li></ul> <h2 id="事件轮询：如何理解浏览器中eventloop"><a href="#事件轮询：如何理解浏览器中eventloop" class="header-anchor">#</a> 事件轮询：如何理解浏览器中EventLoop</h2> <ul><li><p>事件轮询是JS引擎做的事</p></li> <li><p>JS引擎背后在同时运转的东西</p> <ul><li><p>调用堆栈 call stack 负责跟踪所有要执行的代码，调用堆栈存储要被执行的函数</p></li> <li><p>事件队列 event queue 负责将新的function发送到调用堆栈中处理</p></li> <li><p>每当调用事件队列 event queue 中的异步函数时，都会将其发送到浏览器API</p> <ul><li>比如 settimeout，API会一直等到指定的时间后再将此操作（我理解为函数）送会事件队列处理
<ul><li>在这里来说，我的理解是JS引擎不管计时的问题，他只管函数的执行，计时的事交给浏览器去做。</li> <li>而浏览器计时不准的原因也出现在这里，当“此操作被送回事件队列时”，事件队列如果还有还有别的事件待处理，耗时或多或少都会导致计时器的不准，所以不是计时器算的不准，是在执行的时候被迫不准</li></ul></li></ul></li> <li><p>JS语言本身是单线程的，而浏览器API充当单独的线程</p> <ul><li>事件循环促进了这一过程</li> <li>它会不断检查调用堆栈是否为空，如果为空，则从事件队列中添加新的函数进入调用堆栈 call stack；</li> <li>如果不为空，则处理当前函数的调用？疑惑，主语问题，主语是call stack 还是线程？
现在的疑惑，什么控制了从队列添加到调用栈，因为他说有的话就不加，但是我们又会遇到调用栈有很多个函数的情况
那是不是call stack也不一定被退路，也有主动拉入的情况，比如在函数里面调用了另一个函数</li></ul> <p>事件队列 任务队列 两种叫法没大差别，意思一样，重点在队列</p></li></ul> <p><img src="https://s0.lgstatic.com/i/image6/M00/17/43/CioPOWBHaz-AIvXzAAMjXUqLjBw024.png" alt="事件循环EventLoop逻辑"><br>
e.g</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'sam'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>以如上代码理解调用堆栈和事件队列以及浏览器API的运转，首先函数fn出现在事件队列event queue 中，</p> <ul><li><p>Evenloop 内部通过两个队列来实现Event Queue放进来的异步任务。</p> <ul><li>以settimeout为代表的任务被称为宏任务，放到宏任务队列 macrotask queue，又还包括 script（整体代码）、settInterval、setImmediate、I/O，UI rendering， event listener</li> <li>以promise为代表的的微任务被称为微任务，放到微任务队列 microtask queue，又还包括 process.nextTick，Object.observe，MutationObserver</li></ul></li> <li><p>一次EventLoop会处理一个宏任务和所有这次循环中产生的微任务</p></li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 一段没有理解的代码</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a end'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise'</span><span class="token punctuation">)</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'then'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'main end'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="引擎进阶（上）：探究宏任务-微任务"><a href="#引擎进阶（上）：探究宏任务-微任务" class="header-anchor">#</a> 引擎进阶（上）：探究宏任务 &amp; 微任务</h2> <ul><li>微任务就是一个需要异步执行的函数，执行时机是在主函数执行结束之后、当前宏任务结束之前。</li> <li>咋</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">一笔写于:</span> <span class="time">6/5/2021, 10:19:27 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/LearnTech/NetCourse/FEer_advance.html" class="prev">
        前端高手进阶
      </a></span> <span class="next"><a href="/LearnTech/NetCourse/js_deep.html">
        JavaScript深入浅出笔记
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div class="wrap" data-v-6046a539>
  a hint
</div></div></div>
    <script src="/assets/js/app.43ad61d0.js" defer></script><script src="/assets/js/2.1fc9df47.js" defer></script><script src="/assets/js/88.e2ff0d6d.js" defer></script><script src="/assets/js/5.cfe5c241.js" defer></script>
  </body>
</html>
